<!-- UWSGI XML Configuration File -->
<uwsgi>
    <uid>www-data</uid>
    <gid>www-data</gid>
    <daemonize>/web/rest/uwsgi.log</daemonize>
    <pidfile>/web/rest/uwsgi.pid</pidfile>
    <!-- Сокет для передачи данных -->
    <socket>127.0.0.1:9002</socket>
    <!-- Путь к виртуальному окружению -->
    <home>/var/lib/venv/coltrane</home>
    <!-- Нам понадобится включенный python плагин -->
    <plugins>python</plugins>
    <!-- Дополнительный python-путь -->
    <pythonpath>/web/app</pythonpath>
    <!-- Модуль python с определением wsgi приложения -->
    <module>coltrane.rest.run:app</module>
    <!-- Количество процессов -->
    <processes>4</processes>
    <!-- Максимальное количество соединений для каждого процесса -->
    <max-requests>5000</max-requests>
    <!-- Максимальный размер запроса -->
    <buffer-size>32768</buffer-size>
    <!-- Убивать каждое соединение требующее больше 30 сек для обработки -->
    <harakiri>30</harakiri>
    <reload-mercy>8</reload-mercy>
    <master />
    <no-orphans />
</uwsgi>